{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\n// Route protection: redirect unauthenticated users from dashboard routes to login.\r\n// Convex Auth session is client-side; for full server-side protection, add\r\n// @convex-dev/auth Next.js adapter when available for your Convex Auth version.\r\nconst PROTECTED_PATHS = [\"/dashboard\", \"/tasks\", \"/analytics\", \"/settings\", \"/upgrade\"];\r\n\r\nfunction isProtected(pathname: string) {\r\n  return PROTECTED_PATHS.some((p) => pathname === p || pathname.startsWith(p + \"/\"));\r\n}\r\n\r\nfunction isAuthPage(pathname: string) {\r\n  return pathname === \"/login\" || pathname === \"/signup\";\r\n}\r\n\r\nexport function middleware(request: NextRequest) {\r\n  const { pathname } = request.nextUrl;\r\n  // Optional: redirect authenticated users away from login/signup (requires auth cookie from Convex Auth)\r\n  if (isProtected(pathname)) {\r\n    // Without Convex Auth Next.js server, we can't read auth state here.\r\n    // Dashboard layout will redirect to /login when useQuery(api.users.getCurrentUser) returns null.\r\n    return NextResponse.next();\r\n  }\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/((?!.*\\\\..*|_next).*)\", \"/\", \"/(api|trpc)(.*)\"],\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGA,mFAAmF;AACnF,2EAA2E;AAC3E,gFAAgF;AAChF,MAAM,kBAAkB;IAAC;IAAc;IAAU;IAAc;IAAa;CAAW;AAEvF,SAAS,YAAY,QAAgB;IACnC,OAAO,gBAAgB,IAAI,CAAC,CAAC,IAAM,aAAa,KAAK,SAAS,UAAU,CAAC,IAAI;AAC/E;AAEA,SAAS,WAAW,QAAgB;IAClC,OAAO,aAAa,YAAY,aAAa;AAC/C;AAEO,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IACpC,wGAAwG;IACxG,IAAI,YAAY,WAAW;QACzB,qEAAqE;QACrE,iGAAiG;QACjG,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IACA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAA0B;QAAK;KAAkB;AAC7D"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}