(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{15436:(e,a,t)=>{Promise.resolve().then(t.bind(t,83103))},83103:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>w});var s=t(95155),r=t(74359),l=t(81180),i=t(12115),n=t(30814),o=t(35007),d=t(14085),c=t(9955),u=t(39286),m=t(30042),x=t(25683),v=t(39124),h=t(40767),p=t(29602);function g(e){let{open:a,onOpenChange:t,title:r,description:l,children:i,className:n}=e;return(0,s.jsx)(m.bL,{open:a,onOpenChange:t,children:(0,s.jsx)(x.N,{children:a&&(0,s.jsxs)(m.ZL,{children:[(0,s.jsx)(m.hJ,{asChild:!0,children:(0,s.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"})}),(0,s.jsx)(m.UC,{asChild:!0,children:(0,s.jsxs)(v.P.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{type:"spring",duration:.3},className:(0,p.cn)("fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-2xl border border-[var(--border)] bg-[var(--card)] p-6 shadow-glass",n),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[r&&(0,s.jsx)(m.hE,{className:"text-lg font-semibold",children:r}),l&&(0,s.jsx)(m.VY,{className:"mt-1 text-sm text-[var(--muted)]",children:l})]}),(0,s.jsx)(m.bm,{asChild:!0,children:(0,s.jsxs)(d.Button,{variant:"ghost",size:"icon",children:[(0,s.jsx)(h.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})})]}),(0,s.jsx)("div",{className:"mt-4",children:i})]})})]})})})}var b=t(25488),f=t(33473),j=t(98867),y=t(60872),N=t(45686);function w(){var e;let[a,t]=(0,i.useState)(""),[m,x]=(0,i.useState)(),[v,h]=(0,i.useState)(),[w,k]=(0,i.useState)("createdAt"),[C,D]=(0,i.useState)("desc"),[R,_]=(0,i.useState)(!1),[z,F]=(0,i.useState)(null),[S,A]=(0,i.useState)(""),[B,E]=(0,i.useState)(""),[T,H]=(0,i.useState)("medium"),[O,P]=(0,i.useState)(""),L=(0,r.IT)(l.FH.tasks.list,{search:a||void 0,completed:m,priority:v,sortBy:w,sortOrder:C,limit:50}),J=(0,r.n_)(l.FH.tasks.create),Z=(0,r.n_)(l.FH.tasks.update),I=(0,r.n_)(l.FH.tasks.remove),M=(0,r.n_)(l.FH.tasks.toggleComplete),V=null!==(e=null==L?void 0:L.page)&&void 0!==e?e:[];async function U(){if(S.trim())try{await J({title:S.trim(),description:B.trim()||void 0,completed:!1,priority:T,dueDate:O?new Date(O).getTime():void 0}),n.oR.success("Task created"),_(!1),A(""),E(""),H("medium"),P("")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to create")}}async function W(){if(z&&S.trim())try{let e=V.find(e=>e._id===z);if(!e)return;await Z({id:z,title:S.trim(),description:B.trim()||void 0,completed:e.completed,priority:T,dueDate:O?new Date(O).getTime():void 0}),n.oR.success("Task updated"),F(null),A(""),E(""),H("medium"),P("")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to update")}}async function Q(e){try{await I({id:e}),n.oR.success("Task deleted")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to delete")}}async function X(e){try{await M({id:e}),n.oR.success("Task updated")}catch(e){n.oR.error(e instanceof Error?e.message:"Failed to update")}}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Tasks"}),(0,s.jsxs)(d.Button,{onClick:()=>_(!0),children:[(0,s.jsx)(f.A,{className:"size-4"}),"New task"]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{className:"pb-4",children:[(0,s.jsx)(o.ZB,{className:"text-lg",children:"Filters"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,s.jsx)(c.p,{placeholder:"Search…",value:a,onChange:e=>t(e.target.value),className:"max-w-xs"}),(0,s.jsxs)("select",{value:void 0===m?"all":m?"done":"todo",onChange:e=>{let a=e.target.value;x("all"===a?void 0:"done"===a)},className:"rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All"}),(0,s.jsx)("option",{value:"todo",children:"To do"}),(0,s.jsx)("option",{value:"done",children:"Done"})]}),(0,s.jsxs)("select",{value:null!=v?v:"all",onChange:e=>h("all"===e.target.value?void 0:e.target.value),className:"rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"all",children:"Any priority"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"low",children:"Low"})]}),(0,s.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"createdAt",children:"Created"}),(0,s.jsx)("option",{value:"dueDate",children:"Due date"}),(0,s.jsx)("option",{value:"priority",children:"Priority"})]}),(0,s.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>D(e=>"asc"===e?"desc":"asc"),children:"asc"===C?"↑ Asc":"↓ Desc"})]})]}),(0,s.jsx)(o.Wu,{children:void 0===L?(0,s.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,s.jsx)(b.E,{className:"h-14 w-full"},e))}):0===V.length?(0,s.jsxs)("div",{className:"rounded-xl border border-dashed border-[var(--border)] py-12 text-center text-[var(--muted)]",children:[(0,s.jsx)("p",{className:"font-medium",children:"No tasks yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Create one to get started."}),(0,s.jsxs)(d.Button,{className:"mt-4",onClick:()=>_(!0),children:[(0,s.jsx)(f.A,{className:"size-4"}),"Add task"]})]}):(0,s.jsx)("ul",{className:"space-y-2",children:V.map(e=>(0,s.jsxs)("li",{className:(0,p.cn)("flex items-center gap-3 rounded-xl border border-[var(--border)] px-4 py-3 transition-colors",e.completed&&"opacity-60"),children:[(0,s.jsx)("button",{type:"button",onClick:()=>X(e._id),className:"rounded-full border-2 border-[var(--border)] p-0.5 focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]",children:e.completed?(0,s.jsx)(j.A,{className:"size-5 text-avocado"}):(0,s.jsx)("span",{className:"block size-5 rounded-full"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:(0,p.cn)("font-medium",e.completed&&"line-through text-[var(--muted)]"),children:e.title}),e.description&&(0,s.jsx)("p",{className:"truncate text-sm text-[var(--muted)]",children:e.description})]}),(0,s.jsx)(u.E,{variant:e.priority,children:e.priority}),e.dueDate&&(0,s.jsx)("span",{className:"text-xs text-[var(--muted)]",children:new Date(e.dueDate).toLocaleDateString()}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>{var a;F(e._id),A(e.title),E(null!==(a=e.description)&&void 0!==a?a:""),H(e.priority),P(e.dueDate?new Date(e.dueDate).toISOString().slice(0,16):"")},children:(0,s.jsx)(y.A,{className:"size-4"})}),(0,s.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>Q(e._id),children:(0,s.jsx)(N.A,{className:"size-4 text-strawberry"})})]})]},e._id))})})]}),(0,s.jsx)(g,{open:R,onOpenChange:_,title:"New task",description:"Add a task to your list",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,s.jsx)(c.p,{value:S,onChange:e=>A(e.target.value),placeholder:"Task title",className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,s.jsx)(c.p,{value:B,onChange:e=>E(e.target.value),placeholder:"Optional",className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,s.jsxs)("select",{value:T,onChange:e=>H(e.target.value),className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2",children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Due date"}),(0,s.jsx)(c.p,{type:"datetime-local",value:O,onChange:e=>P(e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),(0,s.jsx)(d.Button,{onClick:U,children:"Create"})]})]})}),(0,s.jsx)(g,{open:!!z,onOpenChange:e=>!e&&F(null),title:"Edit task",description:"Update your task",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,s.jsx)(c.p,{value:S,onChange:e=>A(e.target.value),placeholder:"Task title",className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,s.jsx)(c.p,{value:B,onChange:e=>E(e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,s.jsxs)("select",{value:T,onChange:e=>H(e.target.value),className:"mt-1 w-full rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2",children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Due date"}),(0,s.jsx)(c.p,{type:"datetime-local",value:O,onChange:e=>P(e.target.value),className:"mt-1"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.Button,{variant:"outline",onClick:()=>F(null),children:"Cancel"}),(0,s.jsx)(d.Button,{onClick:W,children:"Save"})]})]})})]})}},39286:(e,a,t)=>{"use strict";t.d(a,{E:()=>n});var s=t(95155);t(12115);var r=t(31027),l=t(29602);let i=(0,r.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"border-transparent bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-100",high:l.J.high,medium:l.J.medium,low:l.J.low,success:"border-avocado/30 bg-avocado/15 text-avocado",warning:"border-lemon/30 bg-lemon/15 text-mango"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(i({variant:t}),a),...r})}},14085:(e,a,t)=>{"use strict";t.d(a,{Button:()=>d});var s=t(95155),r=t(12115),l=t(12317),i=t(31027),n=t(29602);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[var(--color-primary)] text-white shadow-soft hover:opacity-90 focus-visible:ring-[var(--color-primary)]",secondary:"bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600",outline:"border border-[var(--border)] bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800",link:"text-[var(--color-primary)] underline-offset-4 hover:underline",success:"bg-avocado text-white hover:opacity-90 focus-visible:ring-avocado",danger:"bg-strawberry text-white hover:opacity-90 focus-visible:ring-strawberry"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:i,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(o({variant:r,size:i,className:t})),ref:a,...c})});d.displayName="Button"},35007:(e,a,t)=>{"use strict";t.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n});var s=t(95155),r=t(12115),l=t(29602);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-2xl border border-[var(--border)] bg-[var(--card)] text-[var(--card-foreground)] shadow-soft transition-shadow hover:shadow-glass",t),...r})});i.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,l.cn)("text-xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-[var(--muted)]",t),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},9955:(e,a,t)=>{"use strict";t.d(a,{p:()=>i});var s=t(95155),r=t(12115),l=t(29602);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...i})});i.displayName="Input"},25488:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(95155),r=t(29602);function l(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-xl bg-slate-200 dark:bg-slate-700",a),...t})}},81180:(e,a,t)=>{"use strict";t.d(a,{FH:()=>r});var s=t(15350);let r=s.dp;(0,s.Op)()},29602:(e,a,t)=>{"use strict";t.d(a,{J:()=>i,cn:()=>l,l:()=>n});var s=t(43463),r=t(69795);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}let i={high:"bg-strawberry/15 text-strawberry border-strawberry/30",medium:"bg-lemon/15 text-mango border-lemon/30",low:"bg-avocado/15 text-avocado border-avocado/30"},n={high:"#E63946",medium:"#F4D35E",low:"#2A9D8F"}}},e=>{var a=a=>e(e.s=a);e.O(0,[562,359,350,814,860,510,584,441,517,358],()=>a(15436)),_N_E=e.O()}]);