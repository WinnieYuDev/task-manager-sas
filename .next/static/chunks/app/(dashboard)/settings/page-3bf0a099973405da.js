(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{21061:(e,t,r)=>{Promise.resolve().then(r.bind(r,78088))},78088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),n=r(74359),s=r(81180),l=r(67113),i=r(35007),o=r(14085),d=r(9955),c=r(25488),u=r(67396),m=r(30814),f=r(12115);function h(){var e,t;let r=(0,n.IT)(s.FH.users.getCurrentUser),h=(0,n.n_)(s.FH.users.updateProfile),{theme:p,setTheme:v}=(0,l.D)(),[y,b]=(0,f.useState)(""),[x,g]=(0,f.useState)(!1);async function w(){g(!0);try{await h({name:y.trim()||void 0}),m.oR.success("Profile updated")}catch(e){m.oR.error(e instanceof Error?e.message:"Failed to update")}finally{g(!1)}}return(0,f.useEffect)(()=>{(null==r?void 0:r.name)!=null&&b(r.name)},[null==r?void 0:r.name]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,a.jsx)("p",{className:"text-[var(--muted)]",children:"Manage your account and preferences"})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Profile"}),(0,a.jsx)(i.BT,{children:"Your display name and email"})]}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:void 0===r?(0,a.jsx)(c.E,{className:"h-10 w-64"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Name"}),(0,a.jsx)(d.p,{value:y,onChange:e=>b(e.target.value),placeholder:"Your name",className:"mt-1 max-w-xs"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-[var(--muted)]",children:null!==(e=null==r?void 0:r.email)&&void 0!==e?e:"—"})]}),(0,a.jsx)(o.Button,{onClick:w,disabled:x,children:x?"Saving…":"Save changes"})]})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Theme"}),(0,a.jsx)(i.BT,{children:"Light or dark mode"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.Button,{variant:"light"===p?"default":"outline",size:"sm",onClick:()=>v("light"),children:"Light"}),(0,a.jsx)(o.Button,{variant:"dark"===p?"default":"outline",size:"sm",onClick:()=>v("dark"),children:"Dark"}),(0,a.jsx)(o.Button,{variant:"system"===p?"default":"outline",size:"sm",onClick:()=>v("system"),children:"System"})]})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Subscription"}),(0,a.jsxs)(i.BT,{children:["Current plan: ",null!==(t=null==r?void 0:r.subscriptionStatus)&&void 0!==t?t:"free"]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(o.Button,{asChild:!0,variant:"outline",children:(0,a.jsx)(u.default,{href:"/upgrade",children:"Upgrade plan"})})})]}),(0,a.jsxs)(i.Zp,{className:"border-strawberry/30",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-strawberry",children:"Danger zone"}),(0,a.jsx)(i.BT,{children:"Permanently delete your account and data. This cannot be undone."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(o.Button,{variant:"outline",className:"border-strawberry text-strawberry hover:bg-strawberry/10",children:"Delete account (placeholder)"})})]})]})}},14085:(e,t,r)=>{"use strict";r.d(t,{Button:()=>d});var a=r(95155),n=r(12115),s=r(12317),l=r(31027),i=r(29602);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[var(--color-primary)] text-white shadow-soft hover:opacity-90 focus-visible:ring-[var(--color-primary)]",secondary:"bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600",outline:"border border-[var(--border)] bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800",ghost:"hover:bg-slate-100 dark:hover:bg-slate-800",link:"text-[var(--color-primary)] underline-offset-4 hover:underline",success:"bg-avocado text-white hover:opacity-90 focus-visible:ring-avocado",danger:"bg-strawberry text-white hover:opacity-90 focus-visible:ring-strawberry"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...c})});d.displayName="Button"},35007:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i});var a=r(95155),n=r(12115),s=r(29602);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-2xl border border-[var(--border)] bg-[var(--card)] text-[var(--card-foreground)] shadow-soft transition-shadow hover:shadow-glass",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-[var(--muted)]",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9955:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155),n=r(12115),s=r(29602);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-xl border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},25488:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var a=r(95155),n=r(29602);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-xl bg-slate-200 dark:bg-slate-700",t),...r})}},81180:(e,t,r)=>{"use strict";r.d(t,{FH:()=>n});var a=r(15350);let n=a.dp;(0,a.Op)()},29602:(e,t,r)=>{"use strict";r.d(t,{J:()=>l,cn:()=>s,l:()=>i});var a=r(43463),n=r(69795);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}let l={high:"bg-strawberry/15 text-strawberry border-strawberry/30",medium:"bg-lemon/15 text-mango border-lemon/30",low:"bg-avocado/15 text-avocado border-avocado/30"},i={high:"#E63946",medium:"#F4D35E",low:"#2A9D8F"}},67396:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var a=r(44839),n=r.n(a)},88068:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>s});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function l(...e){return a.useCallback(s(...e),e)}},12317:(e,t,r)=>{"use strict";r.d(t,{DX:()=>c});var a,n=r(12115),s=r(88068),l=r(95155),i=Symbol.for("react.lazy"),o=(a||(a=r.t(n,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var c=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(d(r)&&"function"==typeof o&&(r=o(r._payload)),n.isValidElement(r)){var l;let e,i;let o=(l=r,(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.ref:(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(d.ref=t?(0,s.t)(t,o):o),n.cloneElement(r,d)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:a,...s}=e;d(a)&&"function"==typeof o&&(a=o(a._payload));let i=n.Children.toArray(a),c=i.find(m);if(c){let e=c.props.children,a=i.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...s,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,l.jsx)(t,{...s,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("Slot"),u=Symbol("radix.slottable");function m(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}},67113:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>u});var a=r(12115),n=(e,t,r,a,n,s,l,i)=>{let o=document.documentElement,d=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&s?n.map(e=>s[e]||e):n;r?(o.classList.remove(...a),o.classList.add(s&&s[t]?s[t]:t)):o.setAttribute(e,t)}),i&&d.includes(t)&&(o.style.colorScheme=t)}if(a)c(a);else try{let e=localStorage.getItem(t)||r,a=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(a)}catch(e){}},s=["light","dark"],l="(prefers-color-scheme: dark)",i="undefined"==typeof window,o=a.createContext(void 0),d={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=a.useContext(o))?e:d},u=e=>a.useContext(o)?a.createElement(a.Fragment,null,e.children):a.createElement(f,{...e}),m=["light","dark"],f=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:d="theme",themes:c=m,defaultTheme:u=n?"system":"light",attribute:f="data-theme",value:b,children:x,nonce:g,scriptProps:w}=e,[j,N]=a.useState(()=>p(d,u)),[C,k]=a.useState(()=>"system"===j?y():j),E=b?Object.values(b):c,S=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&n&&(t=y());let a=b?b[t]:t,l=r?v(g):null,o=document.documentElement,d=e=>{"class"===e?(o.classList.remove(...E),a&&o.classList.add(a)):e.startsWith("data-")&&(a?o.setAttribute(e,a):o.removeAttribute(e))};if(Array.isArray(f)?f.forEach(d):d(f),i){let e=s.includes(u)?u:null,r=s.includes(t)?t:e;o.style.colorScheme=r}null==l||l()},[g]),T=a.useCallback(e=>{let t="function"==typeof e?e(j):e;N(t);try{localStorage.setItem(d,t)}catch(e){}},[j]),R=a.useCallback(e=>{k(y(e)),"system"===j&&n&&!t&&S("system")},[j,t]);a.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(R),R(e),()=>e.removeListener(R)},[R]),a.useEffect(()=>{let e=e=>{e.key===d&&(e.newValue?N(e.newValue):T(u))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[T]),a.useEffect(()=>{S(null!=t?t:j)},[t,j]);let B=a.useMemo(()=>({theme:j,setTheme:T,forcedTheme:t,resolvedTheme:"system"===j?C:j,themes:n?[...c,"system"]:c,systemTheme:n?C:void 0}),[j,T,t,C,n,c]);return a.createElement(o.Provider,{value:B},a.createElement(h,{forcedTheme:t,storageKey:d,attribute:f,enableSystem:n,enableColorScheme:i,defaultTheme:u,value:b,themes:c,nonce:g,scriptProps:w}),x)},h=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:l,enableColorScheme:i,defaultTheme:o,value:d,themes:c,nonce:u,scriptProps:m}=e,f=JSON.stringify([s,r,o,t,c,d,l,i]).slice(1,-1);return a.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:"(".concat(n.toString(),")(").concat(f,")")}})}),p=(e,t)=>{let r;if(!i){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},v=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")}},e=>{var t=t=>e(e.s=t);e.O(0,[562,359,105,350,814,441,517,358],()=>t(21061)),_N_E=e.O()}]);