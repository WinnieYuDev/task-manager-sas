(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{52954:(e,t,s)=>{Promise.resolve().then(s.bind(s,56295))},56295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(95155),r=s(74359),i=s(81180),l=s(35007),n=s(39286),d=s(25488),o=s(39124),c=s(58581),m=s(22175),u=s(90457),x=s(67732),h=s(27112),p=s(29602),y=s(37952),f=s(32423),j=s(24348),v=s(67396);function g(){var e;let t=(0,r.IT)(i.F.tasks.list,{}),s=(0,r.IT)(i.F.tasks.dueToday,{}),g=(0,r.IT)(i.F.analytics.priorityDistribution,{}),b=(0,r.IT)(i.F.analytics.productivityStreak,{}),N=null!==(e=null==t?void 0:t.page)&&void 0!==e?e:[],k=N.length,w=N.filter(e=>e.completed).length,_=k?Math.round(w/k*100):0,P=g?[{name:"High",value:g.high,color:p.l.high},{name:"Medium",value:g.medium,color:p.l.medium},{name:"Low",value:g.low,color:p.l.low}].filter(e=>e.value>0):[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-[var(--muted)]",children:"Your productivity at a glance"})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Task completion"}),(0,a.jsx)(y.A,{className:"size-4 text-[var(--muted)]"})]}),(0,a.jsx)(l.Wu,{children:void 0===t?(0,a.jsx)(d.E,{className:"h-20 w-full"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative size-20",children:[(0,a.jsxs)("svg",{className:"size-20 -rotate-90",children:[(0,a.jsx)("circle",{cx:"40",cy:"40",r:"32",fill:"none",stroke:"var(--border)",strokeWidth:"6"}),(0,a.jsx)(o.P.circle,{cx:"40",cy:"40",r:"32",fill:"none",stroke:"var(--color-primary)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*32),initial:{strokeDashoffset:2*Math.PI*32},animate:{strokeDashoffset:2*Math.PI*32*(1-_/100)},transition:{duration:.8}})]}),(0,a.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-lg font-bold",children:[_,"%"]})]}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-[var(--muted)]",children:[w," of ",k," tasks done"]})]})})]})}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Due today"}),(0,a.jsx)(f.A,{className:"size-4 text-[var(--muted)]"})]}),(0,a.jsx)(l.Wu,{children:void 0===s?(0,a.jsx)(d.E,{className:"h-10 w-16"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.length}),(0,a.jsx)(v.default,{href:"/tasks",className:"text-xs text-[var(--color-primary)] hover:underline",children:"View tasks"})]})})]})}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Streak"}),(0,a.jsx)(j.A,{className:"size-4 text-mango"})]}),(0,a.jsx)(l.Wu,{children:void 0===b?(0,a.jsx)(d.E,{className:"h-10 w-16"}):(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[b," days"]})})]})}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Priority breakdown"})}),(0,a.jsx)(l.Wu,{children:void 0===g?(0,a.jsx)(d.E,{className:"h-24 w-full"}):0===P.length?(0,a.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"No tasks yet"}):(0,a.jsx)("div",{className:"h-24",children:(0,a.jsx)(c.u,{width:"100%",height:"100%",children:(0,a.jsxs)(m.r,{children:[(0,a.jsx)(u.F,{data:P,cx:"50%",cy:"50%",innerRadius:24,outerRadius:40,paddingAngle:2,dataKey:"value",children:P.map((e,t)=>(0,a.jsx)(x.f,{fill:e.color},t))}),(0,a.jsx)(h.m,{})]})})})})]})})]}),s&&s.length>0&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Tasks due today"}),(0,a.jsx)(l.BT,{children:"Finish these to keep your streak"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("ul",{className:"space-y-2",children:s.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-[var(--border)] px-3 py-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsx)(n.E,{variant:e.priority,children:e.priority})]},e._id))})})]})]})}},39286:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(95155);s(12115);var r=s(31027),i=s(29602);let l=(0,r.F)("inline-flex items-center rounded-lg border px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"border-transparent bg-slate-200 text-slate-900 dark:bg-slate-700 dark:text-slate-100",high:i.J.high,medium:i.J.medium,low:i.J.low,success:"border-avocado/30 bg-avocado/15 text-avocado",warning:"border-lemon/30 bg-lemon/15 text-mango"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:s}),t),...r})}},35007:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n});var a=s(95155),r=s(12115),i=s(29602);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-2xl border border-[var(--border)] bg-[var(--card)] text-[var(--card-foreground)] shadow-soft transition-shadow hover:shadow-glass",s),...r})});l.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-[var(--muted)]",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},25488:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(95155),r=s(29602);function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-xl bg-slate-200 dark:bg-slate-700",t),...s})}},81180:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});let a={analytics:{completedPerWeek:{_name:"analytics:completedPerWeek",_type:"query"},priorityDistribution:{_name:"analytics:priorityDistribution",_type:"query"},productivityStreak:{_name:"analytics:productivityStreak",_type:"query"}},seed:{seedTasksForNewUser:{_name:"seed:seedTasksForNewUser",_type:"mutation"}},subscriptions:{getByUserId:{_name:"subscriptions:getByUserId",_type:"query"},createOrUpdate:{_name:"subscriptions:createOrUpdate",_type:"mutation"}},tasks:{list:{_name:"tasks:list",_type:"query"},create:{_name:"tasks:create",_type:"mutation"},update:{_name:"tasks:update",_type:"mutation"},remove:{_name:"tasks:remove",_type:"mutation"},toggleComplete:{_name:"tasks:toggleComplete",_type:"mutation"},dueToday:{_name:"tasks:dueToday",_type:"query"}},users:{getCurrentUser:{_name:"users:getCurrentUser",_type:"query"},updateProfile:{_name:"users:updateProfile",_type:"mutation"},ensureProfile:{_name:"users:ensureProfile",_type:"mutation"}}}},29602:(e,t,s)=>{"use strict";s.d(t,{J:()=>l,cn:()=>i,l:()=>n});var a=s(43463),r=s(69795);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}let l={high:"bg-strawberry/15 text-strawberry border-strawberry/30",medium:"bg-lemon/15 text-mango border-lemon/30",low:"bg-avocado/15 text-avocado border-avocado/30"},n={high:"#E63946",medium:"#F4D35E",low:"#2A9D8F"}}},e=>{var t=t=>e(e.s=t);e.O(0,[562,359,105,860,205,873,441,517,358],()=>t(52954)),_N_E=e.O()}]);